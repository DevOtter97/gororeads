{
  "permissions": {
    "allow": [
      "Bash(git checkout:*)",
      "Bash(npx tsc:*)",
      "Bash(npm run build:*)",
      "Bash(npx astro check:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)",
      "Bash(gh pr create --base main --title \"feat: notification system and pending requests badge\" --body \"$\\(cat <<''EOF''\n## Summary\n- **Notification bell in header**: real-time unread count via Firestore `onSnapshot`, dropdown with notification list, mark as read \\(individual/all\\), relative timestamps in Spanish\n- **Notification on friend request accepted**: when User B accepts User A''s request, User A gets a notification with message \"{username} acepto tu solicitud de amistad\"\n- **Pending requests badge**: red numeric badge on the \"Solicitudes\" tab in SocialHub showing count of pending friend requests, decrements on accept/reject\n\n## New files\n- `src/domain/interfaces/INotificationRepository.ts` - Notification entity + repository interface\n- `src/infrastructure/firebase/FirestoreNotificationRepository.ts` - Firestore implementation with onSnapshot, writeBatch\n- `src/components/notifications/NotificationBell.tsx` - Bell icon with badge + dropdown\n- `CLAUDE.md` - Project context documentation\n\n## Modified files\n- `src/components/Header.tsx` - Render NotificationBell\n- `src/components/social/SocialHub.tsx` - Pending count badge on Solicitudes tab\n- `src/components/social/FriendRequestList.tsx` - Create notification on accept + onRequestHandled callback\n- `firestore.rules` - Security rules for notifications collection\n- Barrel exports updated in domain/interfaces and infrastructure/firebase\n\n## Test plan\n- [ ] User A sends friend request to User B\n- [ ] User B sees numeric badge on \"Solicitudes\" tab\n- [ ] User B accepts request -> badge decrements\n- [ ] User A sees bell icon with unread badge\n- [ ] User A opens dropdown -> sees \"User B acepto tu solicitud de amistad\"\n- [ ] User A marks as read -> badge updates in real-time\n\nðŸ¤– Generated with [Claude Code]\\(https://claude.com/claude-code\\)\nEOF\n\\)\")",
      "Bash(gh pr close:*)",
      "Bash(git log:*)",
      "Bash(gh pr create:*)"
    ]
  }
}
